<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>녹즙 의심 – 라이트</title>
<style id="greenjuice-lite-style">
  /* 전체를 한 컨테이너 아래로만 스타일링: 충돌 방지 */
  #gx-lite { max-width: 680px; margin: 24px auto; padding: 16px; font-family: ui-sans-serif, system-ui, "Noto Sans KR", Arial; color:#eee; background:#121225; border:1px solid #2a2a58; border-radius:12px }
  .hud { display:flex; gap:8px; flex-wrap:wrap; margin-bottom:12px; font-size:14px }
  .pill { padding:6px 10px; border:1px solid #2a2a58; border-radius:999px; background:#191936 }
  .bar { height:6px; border:1px solid #2a2a58; background:#101028; border-radius:999px; overflow:hidden }
  .bar>span { display:block; height:100% }
  #susBar>span { background:linear-gradient(90deg,#79f,#f5c) }
  #sanBar>span { background:linear-gradient(90deg,#7f7,#3c8) }
  #vn { border:1px solid #2a2a58; border-radius:10px; overflow:hidden; background:#15153a }
  #name { padding:8px 12px; font-weight:700; color:#bdbaff; border-bottom:1px solid #2a2a58 }
  #text { padding:14px; min-height:64px; line-height:1.6 }
  #choices { display:flex; gap:8px; flex-wrap:wrap; padding:10px 12px; border-top:1px solid #2a2a58; background:#12123a }
  button { padding:10px 14px; border:1px solid #2a2a58; border-radius:10px; background:#1a1a3a; color:#eee; cursor:pointer }
  button:hover { filter:brightness(1.1) }
  .row { display:flex; align-items:center; gap:8px }
  .note { font-size:12px; opacity:.85; margin-top:10px }
  .label-flash { margin-top:12px; padding:18px; border:1px dashed #3c3c6b; border-radius:12px; background:rgba(18,18,60,0.6); display:grid; place-items:center; gap:12px; min-height:120px; text-align:center }
  .label-countdown { font:700 42px/1 "Orbitron", ui-monospace, monospace; color:#60a5fa }
  .label-content { font:700 22px/1.4 ui-monospace, Menlo, monospace; letter-spacing:4px; text-transform:uppercase; text-align:center; color:#f5f3ff }
  .label-content .label-line { display:block }
  .label-content .icons { font-size:28px; letter-spacing:10px }
  .label-content .letters { font-size:20px; letter-spacing:6px }
  .label-prompt { margin-top:16px; display:grid; gap:12px }
  .label-board { display:grid; grid-template-columns:repeat(4, minmax(64px, 1fr)); gap:10px }
  .label-controls { display:flex; justify-content:flex-end }
  .label-card { position:relative; padding:16px 10px; border:1px solid #2a2a58; border-radius:12px; background:rgba(15,15,40,0.95); color:#e2e8f0; font:700 22px/1.1 ui-monospace, Menlo, monospace; letter-spacing:4px; transition:background .2s ease, transform .2s ease; cursor:pointer }
  .label-card.is-letter { letter-spacing:3px; font-size:18px }
  .label-card.is-icon { font-size:28px; letter-spacing:8px }
  .label-card.revealed { background:rgba(88,91,229,0.22); border-color:rgba(129,140,248,0.45); color:#c7d2fe }
  .label-card.matched { background:rgba(34,197,94,0.2); border-color:rgba(134,239,172,0.55); color:#bbf7d0; cursor:default }
  .label-card:disabled { cursor:default; opacity:.88 }
  .ghost-button { border-color:rgba(99,102,241,0.55); background:rgba(17,17,40,0.85); color:#dbeafe }
  .ghost-button:hover { filter:brightness(1.08) }
  .keypad { display:grid; grid-template-columns: repeat(3,1fr); gap:8px; margin-top:8px }
  .code { font: 700 20px/1 ui-monospace, Menlo, monospace; letter-spacing:2px; padding:6px 8px; background:#0e0e22; border:1px solid #2a2a58; border-radius:8px; text-align:center }
  .hidden { display:none }
  .toast { position:fixed; right:16px; bottom:16px; background:#22224a; color:#eee; padding:10px 12px; border:1px solid #2a2a58; border-radius:8px }
</style>
</head>
<body>

<div data-gjl-wrapper="true">
  <div id="gx-lite">
    <div class="hud">
      <div class="pill">정신력 <span id="sanVal">3</span></div>
      <div class="pill" style="min-width:160px">의심도
        <div id="susBar" class="bar"><span style="width:0%"></span></div>
      </div>
      <div class="pill" style="min-width:160px">정신력바
        <div id="sanBar" class="bar"><span style="width:100%"></span></div>
      </div>
    </div>

    <div id="vn">
      <div id="name">나</div>
      <div id="text">정체불명의 녹즙 냄새가 새어 나온다. 머뭇거릴 시간이 없다.</div>
      <div id="choices"></div>
    </div>

    <!-- 퍼즐1: 라벨 기억 -->
    <div id="puzzleLabel" class="hidden">
      <div class="row"><b>라벨 해독</b><span class="note">3초 동안 카드 위치를 기억한 뒤 아이콘과 문자를 짝지으세요.</span></div>
      <div id="labelFlash" class="label-flash">
        <div id="labelCountdown" class="label-countdown">3</div>
        <div id="labelContent" class="label-content"></div>
      </div>
      <div id="labelPrompt" class="label-prompt hidden">
        <div class="note">카드를 기억한 뒤, 아이콘과 알파벳을 짝지어 모두 맞춰보세요. 공개 시간은 3초뿐입니다.</div>
        <div id="labelBoard" class="label-board"></div>
        <div class="label-controls">
          <button id="labelReplay" class="ghost-button">다시 보기</button>
        </div>
        <div class="note">힌트: 🌿↔C, 💧↔H, 🧪↔L, 🧊↔O</div>
      </div>
    </div>

    <!-- 퍼즐2: 냉장고 키패드 -->
    <div id="puzzleKey" class="hidden">
      <div class="row"><b>냉장고 키패드</b><span class="note">라벨에서 얻은 힌트로 4자리를 입력하세요.</span></div>
      <div class="code" id="codeDisp">____</div>
      <div class="keypad">
        <button data-k="1">1</button><button data-k="2">2</button><button data-k="3">3</button>
        <button data-k="4">4</button><button data-k="5">5</button><button data-k="6">6</button>
        <button data-k="7">7</button><button data-k="8">8</button><button data-k="9">9</button>
        <button data-k="C">C</button><button data-k="0">0</button><button data-k="OK">OK</button>
      </div>
      <div class="note">힌트: 해독된 글자 “C H L O” → 알파벳 순서 번호(3 8 12 15)</div>
    </div>
  </div>

  <div id="toast" class="toast hidden"></div>
</div>

<script src="./green-juice-game.js"></script>
<script>
  window.GreenJuiceLite.mount({ container: document.body });
  window.GreenJuiceLite.start();
</script>

</body>
</html>
